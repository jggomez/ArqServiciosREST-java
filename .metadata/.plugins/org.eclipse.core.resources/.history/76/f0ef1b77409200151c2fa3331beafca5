package co.gov.dane.uo.cache;

import javax.inject.Inject;

import org.apache.commons.jcs.access.CacheAccess;

public class CacheInvalidator {

	@Inject
	private CacheAccess<String, Object> cache;

	@AroundInvoke
	public Object cache(final InvocationContext ctx) throws Exception {

		final Object[] parameters = ctx.getParameters();

		final String key = parameters[0].toString();

		final Object proceed = ctx.proceed();

		cache.remove(key);

		return proceed;
	}

}
